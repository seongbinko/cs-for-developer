## ğŸ’» Rest API
### â“ RESTë€ ë¬´ì—‡ì¸ê°€?
- Representational State Transferì˜ ì•½ì
- ìì›ì„ ì´ë¦„ìœ¼ë¡œ êµ¬ë¶„í•˜ì—¬ í•´ë‹¹ ìì›ì˜ ìƒíƒœë¥¼ ì£¼ê³ ë°›ëŠ” ëª¨ë“  ê²ƒì„ ì˜ë¯¸í•¨.
- ì›¹(HTTP)ì˜ ì¥ì ì„ ìµœëŒ€í•œ í™œìš©í•  ìˆ˜ ìˆëŠ” ì•„í‚¤í…ì²˜ë¡œì„œ í™•ì¥ì„±, ë¶„ì‚°ì‹œìŠ¤í…œ, ë°ì´í„° ì†Œëª¨ëŸ‰ê°ì†Œì˜ ëª©ì ì„ ê°€ì§€ê³  ìˆìŒ. (ì• í”Œë¦¬ì¼€ì´ì…˜ ë¶„ë¦¬ ë° í†µí•©, ë‹¤ì–‘í•œ í´ë¼ì´ì–¸íŠ¸ì˜ ë“±ì¥)
- **ì›¹ ìƒì—ì„œ ì‚¬ìš©ë˜ëŠ” ì—¬ëŸ¬ ë¦¬ì†ŒìŠ¤ë¥¼ `HTTP URI`ë¡œ í‘œí˜„í•˜ê³ , í•´ë‹¹ ë¦¬ì†ŒìŠ¤ì— ëŒ€í•œ í–‰ìœ„ë¥¼ `HTTP Method`ë¡œ ì •ì˜í•˜ëŠ” ë°©ì‹**

### RESTì˜ êµ¬ì„± ìš”ì†Œ
- ìì›(Resource) : URL
    - ëª¨ë“  ìì›ì—ëŠ” ê³ ìœ í•œ IDê°€ ì¡´ì¬í•˜ê²Œ ë˜ê³ , ì´ ìì›ì€ Serverì— ì¡´ì¬í•¨.
    - ìì›ì„ êµ¬ë³„í•˜ëŠ” IDëŠ” HTTP URLë¡œ êµ¬ë¶„
    - ClientëŠ” URLì„ ì´ìš©í•˜ì—¬ ìì›ì„ ì§€ì •í•˜ê³  í•´ë‹¹ ìì›ì— ëŒ€í•œ ì¡°ì‘ì„ Serverì— ìš”ì²­
- í–‰ìœ„(Verb) : HTTP Method
    - ClientëŠ” HTTP Method(POST, GET, DELETE, PUT)ì„ ì´ìš©í•˜ì—¬ ì§€ì •í•œ ìì›ì— ëŒ€í•œ ì¡°ì‘ì„ ìš”ì²­
   
 
Method | ì˜ë¯¸ | Idempotent
 ----|----|----
 POST | Create | No
 GET | Select | Yes
 PUT | Update | Yes
 DELETE | Delete | Yes
> Idempotent : ë©±ë“±ì„± (ì—¬ëŸ¬ ë²ˆ ìˆ˜í–‰í–ˆì„ ë•Œ í•­ìƒ ê°™ì€ ê²°ê³¼ë¥¼ ë°˜í™˜í•˜ëƒ?) í•´ë‹¹ ê°œë…ì´ ì¤‘ìš”í•œ ì´ìœ ëŠ” íŠ¸ëœì­ì…˜ ì²˜ë¦¬ ì‹œ ì¬ í˜¸ì¶œ íŒë‹¨ ì—¬ë¶€ë¥¼ ê²°ì •í•˜ëŠ” ìš”ì†Œì´ê¸° ë•Œë¬¸


**ì¶”ê°€ì ìœ¼ë¡œ ì•Œì•„ë‘ë©´ ì¢‹ì„ HTTP Methodë“¤**
```
    - OPTIONS
        - í˜„ì¬ End-pointê°€ ì œê³µ ê°€ëŠ¥í•œ API Methodë¥¼ ì‘ë‹µí•¨.
    - HEAD
        - ìš”ì²­ì— ëŒ€í•œ Header ì •ë³´ë§Œ ì‘ë‹µ. (bodyê°€ ì—†ìŒ)
    - PATCH
        - ìì›ì˜ ì¼ë¶€ë¥¼ ìˆ˜ì •í•  ê²½ìš° `PATCH`ê°€ ëª©ì ì— ë§ëŠ” Methodì„
```    

- í‘œí˜„ (Representation of Resource)
    - Clientê°€ Serverì— ìì›ì— ëŒ€í•œ ì¡°ì‘ì„ ìš”ì²­í•˜ë©´ ServerëŠ” ì´ì— ëŒ€í•´ ì ì ˆí•œ ì‘ë‹µ(Representation)ì„ ë³´ë‚¸ë‹¤.

### RESTì˜ íŠ¹ì§•
- **RESTì—ëŠ” ë‹¤ìŒê³¼ ê°™ì´ í¬ê²Œ 6ê°€ì§€ì˜ íŠ¹ì§•ì´ ìˆë‹¤.**
- Uniform Interface
     - URIë¡œ ì§€ì •í•œ Resourceì— ëŒ€í•´ ì¡°ì‘ì„ í†µì¼ë˜ê³  í•œì •ì ì¸ ì¸í„°í˜ì´ìŠ¤ë¡œ ìˆ˜í–‰í•œë‹¤
     - HTTP í‘œì¤€ í”„ë¡œí† ì½œì— ë”°ë¥´ëŠ” ëª¨ë“  í”Œë«í¼ì—ì„œ ì‚¬ìš©ì´ ê°€ëŠ¥(íŠ¹ì • ì–¸ì–´ë‚˜ ê¸°ìˆ ì— ì¢…ì†ë˜ì§€ ì•ŠìŒ)
- Stateless (ë¬´ìƒíƒœì„±)
    - ì‘ì—…ì„ ìœ„í•œ ìƒíƒœì •ë³´ë¥¼ ë³„ë„ë¡œ ì €ì¥í•˜ê³ , ê´€ë¦¬í•˜ëŠ” ì¼ì„ í•˜ì§€ ì•ŠìŒ
    - ë”°ë¼ì„œ ì„œë¹„ìŠ¤ì˜ ììœ ë„ê°€ ë†’ì•„ì§€ê³ , ì„œë²„ì—ì„œ ë¶ˆí•„ìš”í•œ ì •ë³´ë¥¼ ê´€ë¦¬í•˜ì§€ ì•Šê¸° ë•Œë¬¸ì— êµ¬í˜„ì´ ë‹¨ìˆœí•´ì§
- Cacheable (ìºì‹œ ê°€ëŠ¥)
    - RESTëŠ” ì›¹ í‘œì¤€ì¸ HTTPë¥¼ ê·¸ëŒ€ë¡œ ì‚¬ìš©í•˜ê¸° ë•Œë¬¸ì— HTTPê°€ ê°€ì§„ ìºì‹± ê¸°ëŠ¥ì„ ì ìš©í•  ìˆ˜ ìˆìŒ
- Self-descriptiveness (ìì²´ í‘œí˜„ êµ¬ì¡°)
    - REST API ìŠ¤í™ë§Œ ë³´ê³ ë„ ì–´ë–¤ ì—­í• ì˜ APIì¸ì§€ ì‰½ê²Œ ì´í•´í•  ìˆ˜ ìˆìŒ
- Client - Server êµ¬ì¡°
    - Serverì™€ Clientì˜ ì—­í• ì´ ëª…í™•íˆ ë‚˜ë‰˜ê¸° ë•Œë¬¸ì— ê° í•„ë“œì—ì„œ ê°œë°œí•´ì•¼í•  ì ì´ ëª…í™•í•´ì§€ê³  ì„œë¡œ ê°„ì˜ ì˜ì¡´ì„±ì´ ì¤„ì–´ë“¤ê²Œ ë¨.
- ê³„ì¸µí˜• êµ¬ì¡°
    - API ServerëŠ” ìˆœìˆ˜ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì„ ìˆ˜í–‰í•˜ê³  ê·¸ ì•ë‹¨ì— ë³´ì•ˆ, ë¡œë“œë°¸ëŸ°ì‹±, ì•”í˜¸í™”, ì‚¬ìš©ì ì¸ì¦ ë“±ì„ ì¶”ê°€í•˜ì—¬ êµ¬ì¡°ìƒì˜ ìœ ì—°ì„±ì„ ì¤„ ìˆ˜ ìˆìŒ
    - PROXY, ê²Œì´íŠ¸ì›¨ì´ ê°™ì€ ë„¤íŠ¸ì›Œí¬ ê¸°ë°˜ì˜ ì¤‘ê°„ ë§¤ì²´ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆìŒ

### REST API ì„¤ê³„ ê°€ì´ë“œ
- ë¦¬ì†ŒìŠ¤ì— ëŒ€í•œ í–‰ìœ„ëŠ” `HTTP Method(POST, GET, PUT, DELETE)`ë¡œ í‘œí˜„
-  /(ìŠ¬ë˜ì‹œ)ëŠ” `ê³„ì¸µ ê´€ê³„`ë¥¼ ë‚˜íƒ€ë‚¼ë•Œ ì‚¬ìš©
- URI ë§ˆì§€ë§‰ ë¬¸ìì— /(ìŠ¬ë˜ì‹œ)ë¥¼ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ”ë‹¤.
- URIì— _(underscore)ëŠ” ì‚¬ìš©í•˜ì§€ ì•ŠëŠ”ë‹¤.
- í•˜ì´í”ˆ (-)ì€ URL ê°€ë…ì„±ì„ ë†’ì´ëŠ”ë° ì‚¬ìš©í•œë‹¤.
- ì˜ì–´ ëŒ€ë¬¸ìë³´ë‹¤ëŠ” `ì†Œë¬¸ì`ë¥¼ ì‚¬ìš©í•œë‹¤.
- URIëŠ” ë™ì‚¬í˜•íƒœë³´ë‹¤ ëª…ì‚¬ë¥¼ ì‚¬ìš©í•œí•œë‹¤.
- URIì— íŒŒì¼ì˜ í™•ì¥ìë¥¼ í¬í•¨ ì‹œí‚¤ì§€ ì•ŠëŠ”ë‹¤.
- ì‹¤ë¬´ì—ì„œëŠ” HTTP ë©”ì„œë“œë¡œ í•´ê²°í•˜ê¸° ì• ë§¤í•œ ê²½ìš°ê°€ ìƒê¸¸ ìˆ˜ ìˆëŠ”ë° ì´ë¥¼ `Control URI`ë¼ê³  í•¨

- ** REST APIëŠ” ì„¤ê³„í•˜ê¸° ë‚˜ë¦„ì´ì§€ë§Œ ê°€ê¸‰ì  ì„¤ê³„ ê°€ì´ë“œì— ë”°ë¼ ì¼ê´€ë˜ê³  í†µì¼ì„±ìˆìœ¼ë©° ê°€ë…ì„± ì¢‹ì€ ìŠ¤í™ì„ ì œê³µí•˜ì—¬ Clientê°€ ì˜ˆì¸¡ê°€ëŠ¥í•˜ë„ë¡ ì„¤ê³„í•˜ëŠ” ê²ƒì´ ì¢‹ìŒ **

### REST ì„±ìˆ™ë„ ëª¨ë¸
- Level 0
    - ì›¹ ë©”ì»¤ë‹ˆì¦˜ì„ ì‚¬ìš©í•˜ì§€ ì•Šê³  HTTPë¥¼ ì›ê²© í†µì‹ ì„ ìœ„í•œ ì „ì†¡ ì‹œìŠ¤í…œìœ¼ë¡œ ì‚¬ìš©í•¨
    - ë¦¬ì†ŒìŠ¤ êµ¬ë¶„ ì—†ì´ ì„¤ê³„ëœ HTTP API
    - ë‹¨ í•˜ë‚˜ì˜ End pointë¥¼ ì‚¬ìš©í•˜ê³ , ì „ë‹¬ë˜ëŠ” ì„œë¡œ ë‹¤ë¥¸ ë§¤ê°œë³€ìˆ˜ë¥¼ í†µí•´ í•˜ë‚˜ì˜ End Pointì—ì„œ ì—¬ëŸ¬ ë™ì‘ì„ í•˜ê²Œ ë¨.
    - ë§¤ê°œ ë³€ìˆ˜ë¥¼ bodyë¡œ ì „ë‹¬í•˜ê¸° ìœ„í•´ POSTë§Œ ì‚¬ìš©
```json
POST https://api/user
{
  "function": "getUser",
  "arguments" [
    "1"
  ]
}
```

- Level 1
    - ë¦¬ì†ŒìŠ¤ì˜ ê°œë…ì„ ë„ì…
    - ëª¨ë“  ìš”ì²­ì„ ë‹¨ì¼ ì„œë¹„ìŠ¤ End Pointë¡œ ë³´ë‚´ëŠ” ê²ƒì´ ì•„ë‹ˆë¼ ê°œë³„ ë¦¬ì†ŒìŠ¤ì™€ í†µì‹ í•˜ê²Œ ë¨
    - ë¦¬ì†ŒìŠ¤ë³„ë¡œ ê³ ìœ í•œ URIë¥¼ ì‚¬ìš©í•´ì„œ ì‹ë³„
    - HTTP Methodë¡œ GET, POSTë§Œ ì‚¬ìš©í•˜ë©° Response errorì¸ ê²½ìš°ì—ë„ 200ìœ¼ë¡œ ì‘ë‹µ
    - HTTP headersì— Content-Typeì´ë‚˜ Cache ê´€ë ¨ ì •ë³´ë¥¼ ì œê³µí•˜ì§€ ì•ŠìŒ
```json
POST https://api/users/create
{
  "name": "yoonyoung"
}
```

- Level 2
    - HTTP Method Get, Post, Put, Deleteë¥¼ ì‚¬ìš©í•´ CRUDë¥¼ ë‚˜íƒ€ë‚´ê³  ê° ì‘ë‹µì— ë§ëŠ” Status Codeë¥¼ ì‚¬ìš©
    - URIì— actionì´ ë‹´ê¸°ì§€ ì•Šê³ , ë©±ë“±ì„±ì„ ë³´ì¥í•˜ëŠ” GETì— ìºì‹œê°€ ì ìš©ë¨
```json
HTTP/1.1 201 Created
Content-Type: application/json
{
  "result" {
    "id": "1",
    "name": "yoonyoung"
  }
}
```

- Level 3
    - Hypermedia As Engine of Application State ê°œë…ì„ ë„ì… (HAETEOS)
    - ì§„ì •í•œ REST APIë¼ê³  í•  ìˆ˜ ìˆìŒ
    - API ì„œë¹„ìŠ¤ì˜ ëª¨ë“  end pointë¥¼ ìµœì´ˆ ì§„ì…ì ì´ ë˜ëŠ” URIë¥¼ í†µí•´ Hypertext Link í˜•íƒœë¡œ ì œê³µ
    - ì–´ë–¤ Requestì— ëŒ€í•œ Responseì— í•´ë‹¹ ë¦¬ì†ŒìŠ¤ì˜ ìƒíƒœì—ë”°ë¼ ê°€ëŠ¥í•œ ë‹¤ìŒ ìš”ì²­ URIë„ ì œê³µí•¨
    - í´ë¼ì´ì–¸íŠ¸ëŠ” HAETEOSë¥¼ í†µí•´ ì„œë²„ì™€ ì™„ì „ ë™ì ì¸ ìƒí˜¸ì‘ìš©ì´ ê°€ëŠ¥í•¨
```json
201 Created
{
    "id": 1,
    "name": "hak",
    "createdAt": "2018-07-04 14:00:00"
    "links": [
        {
            "rel": "self",
            "href": "http://api.test.com/users/1",
            "method": "GET"
        },
        {
            "rel": "delete",
            "href": "http://api.test.com/users/1",
            "method": "DELETE"
        },
        {
            "rel": "update",
            "href": "http://api.test.com/users/1",
            "method": "PATCH",
            "more_info": "http://api.test.com/docs/user-update"
            "body": {
                "name": "{The value to be modified}"
            }
        },
        {
            "rel": "user.posts",
            "href": "http://api.test.com/users/1/posts",
            "method": "GET"
        }
    ]
}
```


> ì°¸ê³  URL : 

https://velog.io/@younge/REST-API-ì„±ìˆ™ë„-ëª¨ë¸-Maturity-Model-eqqyjqff

https://sanghaklee.tistory.com/57
   